{"version":3,"sources":["js/03-promises.js"],"names":["formRef","document","querySelector","STORAGE_KEY","amount","onFormInput","evt","formData","JSON","parse","localStorage","getItem","target","name","value","setItem","stringify","onFormSubmit","preventDefault","checkedData","delay","step","delayData","Number","amountData","console","log","reset","removeItem","createPromise","position","shouldResolve","Math","random","setTimeout","addEventListener"],"mappings":";AAAA,MAAMA,EAAUC,SAASC,cAAc,QAEjCC,EAAc,sBAEpB,IAAIC,EAAS,EAKb,SAASC,EAAYC,GACZC,MAAAA,EAAWC,KAAKC,MAAMC,aAAaC,QAAQR,KAAiB,GAEjEI,EAASD,EAAIM,OAAOC,MAAQP,EAAIM,OAAOE,MACtCJ,aAAaK,QAAQZ,EAAaK,KAAKQ,UAAUT,IAItD,SAASU,EAAaX,GAClBA,EAAIY,iBACEC,MAAAA,EAAcX,KAAKC,MAAMC,aAAaC,QAAQR,KAAiB,GACnE,IAACgB,EAAYC,QAAUD,EAAYE,OAASF,EAAYf,OACtD,OAEAkB,MAAAA,EAAYC,OAAOJ,EAAYC,OAE/BI,GADWD,OAAOJ,EAAYE,MACjBE,OAAOJ,EAAYf,SAIpCqB,QAAQC,IAAIhB,aAAaC,QAAQR,IACjCG,EAAIM,OAAOe,QACbjB,aAAakB,WAAWzB,GAGpB,IAAA,IAAIC,EAAS,EAAGA,EAASoB,EAAYpB,IACzCyB,EAAczB,EAAS,EAAGkB,GAM5B,SAASO,EAAcC,EAAUV,GAEvBW,MAAAA,EAAgBC,KAAKC,SAAW,GAEtCC,WAAW,KACPH,EACFN,QAAQC,2BAA2BI,QAAeV,OAElDK,QAAQC,0BAA0BI,QAAeV,QAElDA,GA7CLpB,EAAQmC,iBAAiB,QAAS9B,GAClCL,EAAQmC,iBAAiB,SAAUlB","file":"03-promises.3afa018b.js","sourceRoot":"../src","sourcesContent":["const formRef = document.querySelector('form');\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nlet amount = 1;\n\nformRef.addEventListener('input', onFormInput);\nformRef.addEventListener('submit', onFormSubmit);\n\nfunction onFormInput(evt) {\n   const formData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\n   \n    formData[evt.target.name] = evt.target.value;\n     localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n  \n}\n\nfunction onFormSubmit(evt) {\n    evt.preventDefault();\n    const checkedData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || '';\n  if (!checkedData.delay || !checkedData.step || !checkedData.amount)  {  \n        return\n  }\n  const delayData = Number(checkedData.delay);\n  const stepData = Number(checkedData.step);\n  const amountData = Number(checkedData.amount);\n\n\n\n    console.log(localStorage.getItem(STORAGE_KEY));\n    evt.target.reset();\n  localStorage.removeItem(STORAGE_KEY);\n\n \n for (let amount = 0; amount < amountData; amount++)\n  createPromise(amount + 1, delayData);\n  \n}\n\n\n \nfunction createPromise(position, delay) {\n    \n    const shouldResolve = Math.random() > 0.3;\n    \n    setTimeout(() => {\n    if (shouldResolve) {\n      console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    } else {\n      console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n    }\n  }, delay);\n \n}\n"]}